## 引擎事件

### 预启动	

-找节点对应人/岗	

再去服务找到节点实际对应人



### 回调

基类负责	

生效

单据自身



## 流程启动

### 流转条件

多条件结果的	并集





### 流转阶段操作



## 流转指定人

##### 发起人主管	

制单人	填表人 未必实际需求申请人

/申请人	实际需求申请人





##### 指定部门

职能（职务）部门	强指定对应部门		如财务

非职能部门的操作	改部门对应上级



## 流程节点	

##### 普通节点1

##### 结束节点3

##### 会签/或签2

###### 非会签/或签 	

前结点人指定	下一节点审核人（指派审核人）

##### 加签

当前节点审批人 认为有必要增设环节

next节点仍未原下一节点





- [ ] GetByID	如果单据已经进入审批流，则增加判断当前用户是否为审批人、流程信息、单据的审批流程是否流转失败。
- [ ] Submit	单据状态变更；提交成功后，识别单据是否有匹配的审批流，如果有，则单据绑定流程，并告诉前端需要单据需要审批流。
- [ ] PreStartFlow	预启动流程。返回第一个审批节点及其候选审批人
- [ ] StartFlow	启动审批流
- [ ] PrevApproval	预审批。获取当前审批节点的属性及下一步审批的候选审批人。
- [ ] ApprovalPassed	审批通过
- [ ] AdditionalApproval	审批通过并加签
- [ ] ApprovalGoBack	审批不通过，回退上一步
- [ ] ApprovalReject	审批不通过，拒绝
- [ ] CountersignPassed	会签通过
- [ ] CountersignNotPassed	会签不通过
- [ ] GetFlowTrail	获取单据的流程轨迹（包含流转日志及待办任务）。
- [ ] AssignApprover	指派审批人
- [ ] SubsitititeForApproval	代审
- [ ] Sign	签字确认











